# Sources

source = scopedog-hyprland.conf

# Variables

env = GDK_BACKEND, wayland,x11
env = QT_QPA_PLATFORM, wayland;xcb
env = SDL_VIDEODRIVER, wayland
env = CLUTTER_BACKEND, wayland
env = XDG_CURRENT_DESKTOP, Hyprland
env = XDG_SESSION_TYPE, wayland
env = XDG_SESSION_DESKTOP, Hyprland
env = QT_AUTO_SCREEN_SCALE_FACTOR, 1
env = QT_WAYLAND_DISABLE_WINDOWDECORATION, 1

env = QT_QPA_PLATFORMTHEME, qt5ct

$mainMod = SUPER

$ws1 = 1
$ws2 = 2
$ws3 = 3
$ws4 = 4
$ws5 = 5
$ws6 = 6
$ws7 = 7
$ws8 = 8
$ws9 = 9
$ws10 = 10

$term = alacritty
$text = codium --enable-features=UseOzonePlatform,WaylandWindowDecorations --ozone-platform=wayland --new-window %F
$file = thunar
$web = waterfox
$discord = vesktop --enable-features=UseOzonePlatform --ozone-platform=wayland --enable-webrtc-pipewire-capturer --enable-features=WaylandWindowDecorations --disable-gpu

general {
    gaps_in = 5
    gaps_out = 10
    col.active_border = rgb(44475a) rgb(bd93f9) 90deg
    col.inactive_border = rgba(44475aaa)
    col.nogroup_border = rgba(282a36dd)
    col.nogroup_border_active = rgb(bd93f9) rgb(44475a) 90deg
    no_border_on_floating = false
    border_size = 2
    layout = dwindle
    allow_tearing = false
}

decoration {
    rounding = 10
    blur {
        enabled = false
        size = 3
        passes = 1
    }
    drop_shadow = yes
    shadow_range = 60
    shadow_offset = 1 2
    shadow_render_power = 3
    shadow_scale = 0.97
    col.shadow = rgba(1E202966)
}

group {
    groupbar {
        col.active = rgb(bd93f9) rgb(44475a) 90deg
        col.inactive = rgba(282a36dd)
    }
}

animations {
    enabled = false
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

input {
    kb_layout = it,us
    numlock_by_default = true
    follow_mouse = 1
}

misc {
    vfr = true
}

# Monitor failsafe
monitor = , preferred, auto, 1

# Binds

# Move focus with mainMod + arrow keys
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, $ws1
bind = $mainMod, 2, workspace, $ws2
bind = $mainMod, 3, workspace, $ws3
bind = $mainMod, 4, workspace, $ws4
bind = $mainMod, 5, workspace, $ws5
bind = $mainMod, 6, workspace, $ws6
bind = $mainMod, 7, workspace, $ws7
bind = $mainMod, 8, workspace, $ws8
bind = $mainMod, 9, workspace, $ws9
bind = $mainMod, 0, workspace, $ws10

# Switch workspaces with mainMod + [0-9] (keypad)
bind = $mainMod, code:87, workspace, $ws1
bind = $mainMod, code:88, workspace, $ws2
bind = $mainMod, code:89, workspace, $ws3
bind = $mainMod, code:83, workspace, $ws4
bind = $mainMod, code:84, workspace, $ws5
bind = $mainMod, code:85, workspace, $ws6
bind = $mainMod, code:79, workspace, $ws7
bind = $mainMod, code:80, workspace, $ws8
bind = $mainMod, code:81, workspace, $ws9
bind = $mainMod, code:90, workspace, $ws10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, $ws1
bind = $mainMod SHIFT, 2, movetoworkspace, $ws2
bind = $mainMod SHIFT, 3, movetoworkspace, $ws3
bind = $mainMod SHIFT, 4, movetoworkspace, $ws4
bind = $mainMod SHIFT, 5, movetoworkspace, $ws5
bind = $mainMod SHIFT, 6, movetoworkspace, $ws6
bind = $mainMod SHIFT, 7, movetoworkspace, $ws7
bind = $mainMod SHIFT, 8, movetoworkspace, $ws8
bind = $mainMod SHIFT, 9, movetoworkspace, $ws9
bind = $mainMod SHIFT, 0, movetoworkspace, $ws10

# Move active window to a workspace with mainMod + SHIFT + [0-9] (keypad)
bind = $mainMod SHIFT, code:87, movetoworkspace, $ws1
bind = $mainMod SHIFT, code:88, movetoworkspace, $ws2
bind = $mainMod SHIFT, code:89, movetoworkspace, $ws3
bind = $mainMod SHIFT, code:83, movetoworkspace, $ws4
bind = $mainMod SHIFT, code:84, movetoworkspace, $ws5
bind = $mainMod SHIFT, code:85, movetoworkspace, $ws6
bind = $mainMod SHIFT, code:79, movetoworkspace, $ws7
bind = $mainMod SHIFT, code:80, movetoworkspace, $ws8
bind = $mainMod SHIFT, code:81, movetoworkspace, $ws9
bind = $mainMod SHIFT, code:90, movetoworkspace, $ws10

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Close active window
bind = $mainMod, q, killactive

# Fullscreen
bind = $mainMod SHIFT, f, fullscreen, 0

# Programs
bind = $mainMod, return, exec, $term
bind = $mainMod, f, exec, $file
bind = $mainMod, t, exec, $text
bind = $mainMod, w, exec, $web
bind = $mainMod, s, exec, steam
bind = $mainMod, d, exec, $discord
bind = $mainMod, escape, exec, wlogout

# Wofi
bindr = SUPER, SUPER_L, exec, pkill wofi || wofi --show drun

# Screenshot
bind = , Print, exec, grimblast copy area

# Color picker
bind = $mainMod SHIFT, c, exec, hyprpicker -a

# Volume
bind = , XF86AudioRaiseVolume, exec, amixer -D pulse sset Master 1%+
bind = , XF86AudioLowerVolume, exec, amixer -D pulse sset Master 1%-
bind = , XF86AudioMute, exec, amixer sset Master toggle

# Brightness
bind = , XF86MonBrightnessUp, exec, brightnessctl set +5%
bind = , XF86MonBrightnessDown, exec, brightnessctl set 5%-
bind = $mainMod, XF86MonBrightnessDown, exec, brightnessctl set 0%
bind = $mainMod, XF86MonBrightnessUp, exec, brightnessctl set 100%

# waybar lol
bind = $mainMod SHIFT, r, exec, killall waybar; waybar

# Workspace Rules

workspace = $ws1, monitor:$monitorMain, default:true
workspace = $ws2, monitor:$monitorMain
workspace = $ws3, monitor:$monitorRight, default:true
workspace = $ws4, monitor:$monitorRight
workspace = $ws5, monitor:$monitorMain
workspace = $ws6, monitor:$monitorMain
workspace = $ws7, monitor:$monitorRight
workspace = $ws8, monitor:$monitorRight
workspace = $ws9, monitor:$monitorRight
workspace = $ws10, monitor:$monitorRight

# Window Rules

# Workspace 1 - Work
windowrulev2 = workspace $ws1, class:$text
windowrulev2 = workspace $ws1, class:krita
windowrulev2 = workspace $ws1, class:okular
windowrulev2 = workspace $ws1, class:lmms
windowrulev2 = workspace $ws1, class:kdenlive
windowrulev2 = workspace $ws1, class:libreoffice
windowrulev2 = workspace $ws1, class:codium-url-handler

# Workspace 2 - Web
windowrulev2 = workspace $ws2, class:$web
windowrulev2 = workspace $ws2,class:Chromium
windowrulev2 = workspace $ws2, class:(Tor Browser)

# Workspace 3 - Comms
windowrulev2 = workspace $ws3 silent, class:$discord
windowrulev2 = workspace $ws3, class:org.telegram.desktop

# Workspace 4 - Game Launchers
windowrulev2 = workspace $ws4 silent, class:steam
windowrulev2 = workspace $ws4, class:prismlauncher
windowrulev2 = workspace $ws4, class:r2modman

# Workspace 5 - Games
windowrulev2 = workspace $ws5 silent, class:steam_app # Should grab all proton games
windowrulev2 = workspace $ws5, class:roblox
windowrulev2 = workspace $ws5, class:RetroArch
windowrulev2 = workspace $ws5, class:gamescope

# Workspace 6 - Media
windowrulev2 = workspace $ws6, title:(Discord Popout)
windowrulev2 = workspace $ws6, class:vlc
windowrulev2 = workspace $ws6, class:qimgv

# Workspace 7 - Terminal
windowrulev2 = workspace $ws7, class:Alacritty

# Workspace 8 - File Manager
windowrulev2 = workspace $ws8, class:$file

# Workspace 9 - Misc
windowrulev2 = workspace $ws9, class:qBittorrent

# Other rules
windowrulev2 = float, class:pavucontrol
windowrulev2 = float, class:polkit
windowrulev2 = float, class:thunar, title:(File Operation Progress)
windowrulev2 = float, class:qBittorrent
windowrulev2 = tile, class:qBittorrent, title:qBittorrent
windowrulev2 = bordercolor rgb(ff5555),xwayland:1 # check if window is xwayland

# Steam fixes
windowrulev2 = float, class:steam
windowrulev2 = tile, title:^(Steam)$, class:^(steam)$
windowrulev2 = stayfocused, title:^()$, class:^(steam)$
windowrulev2 = minsize 1 1, title:^()$, class:^(steam)$

# Autostart

exec-once = dunst --config ~/.config/dunst/dunstrc
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = waybar
# exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = hyprpaper
exec-once = thunar --daemon
exec-once = nm-applet
